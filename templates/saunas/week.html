{% extends "base.html" %}
{% block title %}Tydzień saun{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">

  <a href="?date={{ prev_week|date:'Y-m-d' }}"
     class="btn btn-outline-light">
    ← Poprzedni tydzień
  </a>

  <h2 class="mb-0 text-center">
    {{ start|date:"d.m" }} – {{ end|date:"d.m.Y" }}
  </h2>

  <a href="?date={{ next_week|date:'Y-m-d' }}"
     class="btn btn-outline-light">
    Następny tydzień →
  </a>

</div>


<div class="row g-3">

  {% for item in week %}
    <div class="col">

      <div class="card h-100">
        <div class="card-body">

          <strong>
            <a href="{% url 'sauna_day' item.date|date:'Y-m-d' %}"
               class="fw-bold text-decoration-none">
              {{ item.date|date:"D d.m" }}
            </a>
          </strong>

          {% if item.day %}

            {% for session in item.day.sessions.all %}

              <div class="mt-2">

                {% if request.user.area.code == "SA" %}
                    {% include "saunas/_session_card.html" with session=session clickable=True %}
                {% else %}
                    {% include "saunas/_session_card.html" with session=session clickable=False %}
                {% endif %}


              </div>

            {% endfor %}

          {% else %}

            <p class="text-muted small mt-2">
              Brak planu
            </p>

          {% endif %}

        </div>
      </div>

    </div>
  {% endfor %}

</div>

{% endblock %}
